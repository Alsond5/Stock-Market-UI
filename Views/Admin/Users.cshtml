@{
    var users = ViewBag?.Users as List<UserInfo> ?? [];
}

<!-- Breadcrumbs -->
<nav aria-label="breadcrumb" class="d-flex align-items-center bg-info py-1">
    <div class="container text-sm px-0">
        <ol class="breadcrumb px-0 m-0 font-medium">
            <li class="breadcrumb-item"><a class="nav nav-link text-white" href="#">Home</a></li>
            <li class="breadcrumb-item"><a class="nav nav-link text-white" href="#">Authentication and Authorization</a></li>
            <li class="breadcrumb-item active" aria-current="page"><span class="nav nav-link text-muted">Users</span></li>
        </ol>
    </div>
</nav>
<div class="container">
    <!-- Page Title -->
    <h3 class="my-4 font-bold text-muted">Select user to change</h3>

    <div class="row">
        <!-- Main Content Area -->
        <div class="col-lg-9">
            <!-- Search and Action Bar -->
            <div class="d-flex mb-3 gap-3">
                <input type="text" class="form-control text-sm" placeholder="Search">
                <button class="btn btn-outline-secondary ml-2 text-sm">Search</button>
            </div>

            <!-- Action Dropdown -->
            <div class="d-flex align-items-center mb-3 mt-4 gap-3 text-sm">
                <p class="m-0 text-muted font-medium">Action:</p>
                <select class="form-select w-auto mr-2 text-sm">
                    <option>-------------</option>
                    <option>Delete selected users</option>
                    <option>Mark as staff</option>
                    <!-- Diğer aksiyonlar eklenebilir -->
                </select>
                <button class="btn btn-secondary text-sm">Go</button>
            </div>

            <!-- User Table -->
            <table class="table table-hover">
                <thead class="table-light">
                    <tr class="text-muted text-sm">
                        <th><input type="checkbox" data-target="all"></th>
                        <th>USERNAME</th>
                        <th>EMAIL ADDRESS</th>
                        <th>STAFF STATUS</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach(var user in users)
                    {
                        <tr class="text-sm">
                            <td><input type="checkbox" data-target="selected"></td>
                            <td><a asp-controller="admin" asp-action="users" asp-route-id="@user.UserId" class="text-decoration-none font-medium">@user.Username</a></td>
                            <td>@user.Email</td>
                            <td>
                                @if (user.RoleName == "Admin")
                                {
                                    <span class="text-success">✔</span>
                                }
                            </td>
                        </tr>
                    }
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="4" class="text-muted text-sm">
                            <p class="m-0">@users.Count() users</p>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>

        <!-- Filter Sidebar -->
        <div class="col-lg-3">
            <div class="card">
                <div class="card-header bg-info text-white">
                    Filter
                </div>
                <div class="card-body">
                    <h6>By staff status</h6>
                    <ul class="list-unstyled">
                        <li><a href="#">All</a></li>
                        <li><a href="#">Yes</a></li>
                        <li><a href="#">No</a></li>
                    </ul>

                    <h6>By superuser status</h6>
                    <ul class="list-unstyled">
                        <li><a href="#">All</a></li>
                        <li><a href="#">Yes</a></li>
                        <li><a href="#">No</a></li>
                    </ul>
                    
                    <!-- Ek filtre seçenekleri eklenebilir -->
                </div>
            </div>
            <!-- Add User Button -->
            <button class="btn btn-secondary mt-3 w-100">Add User</button>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            $('input[data-target="all"]').change(function () {
                var isChecked = $(this).prop('checked');
                $('input[data-target="selected"]').prop('checked', isChecked);
            });
        });
    </script>
}